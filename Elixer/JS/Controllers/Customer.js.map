{"version":3,"sources":["CustomerController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Customer.js","sourcesContent":["var app = angular.module('Customer', []).directive('jqdatepicker', function () {\r\n    return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        link: function (scope, element, attrs, ngModelCtrl) {\r\n            element.datepicker({\r\n                dateFormat: 'DD, d  MM, yy',\r\n                onSelect: function (date) {\r\n                    scope.date = date;\r\n                    scope.$apply();\r\n                }\r\n            });\r\n        }\r\n    };\r\n});\r\napp.controller('CustomerRefundCtrl', ['$scope', '$http', function ($scope, $http) {\r\n    $scope.reasons = [];\r\n    $scope.wishes = [];\r\n    $scope.conditions = [];\r\n\r\n    $http.get(configuration.path + '/wish').success(function (data) {\r\n        $.each(data, function (index) {\r\n            $scope.wishes.push(data[index].Wish);\r\n        });\r\n    });\r\n    $http.get(configuration.path + '/reason').success(function (data) {\r\n        $.each(data, function (index) {\r\n            $scope.reasons.push(data[index].Reason);\r\n        });\r\n    });\r\n    $http.get(configuration.path + '/itemCondition').success(function (data) {\r\n        $.each(data, function (index) {\r\n            $scope.conditions.push(data[index].ItemCondition);\r\n        });\r\n    });\r\n    $http.get($(location).attr('href') + '/Fetch').success(function (data) {\r\n        $scope.form = data;\r\n    });\r\n    // on form submit generate qr code\r\n    $scope.SubmitForm = function () {\r\n        $http.post(configuration.path + '/UpdateCaseData', JSON.stringify($scope.form)).success(function (data) {\r\n           // window.location.href = configuration.path + '/QR';\r\n            window.location.href = configuration.path + '/BarCode';\r\n        });\r\n    };\r\n\r\n    // upload image related to case\r\n    $scope.SubmitImage = function () {\r\n        var formData = new FormData();\r\n        formData.append('file', $('#fileToUpload')[0].files[0]);\r\n        $.ajax({\r\n            url: configuration.path + '/File/Upload/' + 0,\r\n            type: \"POST\",\r\n            data: formData,\r\n            contentType: false,\r\n            cache: false,\r\n            processData: false,\r\n\r\n            success: function (data) {\r\n                alert('image uploaded!');\r\n            },\r\n            error: function (e) {\r\n\r\n            }\r\n        });\r\n\r\n    };\r\n}]);\r\napp.controller('CustomerRefundTrackCtrl', ['$scope', '$http', function ($scope, $http) {\r\n\r\n    $scope.getUrlParameter = function getUrlParameter(sParam) {\r\n        var sPageURL = decodeURIComponent(window.location.search.substring(1)),\r\n            sURLVariables = sPageURL.split('&'),\r\n            sParameterName,\r\n            i;\r\n\r\n        for (i = 0; i < sURLVariables.length; i++) {\r\n            sParameterName = sURLVariables[i].split('=');\r\n\r\n            if (sParameterName[0] === sParam) {\r\n                return sParameterName[1] === undefined ? true : sParameterName[1];\r\n            }\r\n        }\r\n    };\r\n\r\n    $scope.SubmitForm = function () {\r\n        var trackID=$scope.getUrlParameter('trackID');\r\n        var url=configuration.path+ \"/Status/\";\r\n        if(trackID!=undefined)\r\n        url += trackID;\r\n        else\r\n            url +=$('.trackerID').val();\r\n        window.location.href = url;\r\n\r\n\r\n    };\r\n\r\n    $scope.openDialog=function(){\r\n\r\n        $('.dialogForm').show();\r\n        $('.ui-widget-overlay').css('opacity','0.3');\r\n        $('.returnBtn').attr('disabled', true);\r\n        $('.trackBtn').attr('disabled', true);\r\n        $('.trackerID').attr('disabled', true);\r\n\r\n    }\r\n\r\n    $scope.close=function(){\r\n\r\n        $('.dialogForm').hide();\r\n        $('.ui-widget-overlay').css('opacity','1');\r\n        $('.returnBtn').attr('disabled', false);\r\n        $('.trackBtn').attr('disabled', false);\r\n        $('.trackerID').attr('disabled', false);\r\n    }\r\n\r\n    $scope.send=function() {\r\n        var sellerName = $( \"input[name='sellerName']\" ).val();\r\n        var email = $( \"input[name='email']\" ).val();\r\n        var orderNr = $( \"input[name='orderNr']\" ).val();\r\n        alert(sellerName+\" \"+email+\" \"+orderNr);\r\n\r\n    }\r\n\r\n    $scope.init = function () {\r\n\r\n        var trackID = $scope.getUrlParameter('trackID');\r\n        $('.trackerID').val(trackID);\r\n    };\r\n\r\n}]);"],"sourceRoot":"/source/"}