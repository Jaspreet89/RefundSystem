!function(){"use strict";angular.module("RefundSystemApp",["ui.router","satellizer","angularFileUpload"]).config(["$stateProvider","$urlRouterProvider","$authProvider","$httpProvider","$provide","$locationProvider",function(e,r,t,a,o,l){function s(e,r){return{responseError:function(t){var a=r.get("$state"),o=["token_not_provided","token_expired","token_absent","token_invalid"];return angular.forEach(o,function(e,r){t.data.error===e&&(localStorage.removeItem("user"),a.go("auth"))}),e.reject(t)}}}o.factory("redirectWhenLoggedOut",s),a.interceptors.push("redirectWhenLoggedOut"),t.loginUrl=configuration.path+"/api/authenticate",r.otherwise("/auth"),e.state("auth",{url:"/auth",templateUrl:"../resources/views/AuthView.blade.php",controller:"AuthController as auth"}).state("users",{url:"/users",templateUrl:"../resources/views/UserView.blade.php",controller:"UserController as user"}).state("sellerrefundform",{url:"/sellerrefundform",templateUrl:"../resources/views/SellerRefundForm.blade.php",controller:"SellerRefundFormCtrl as sellerrefundform"}).state("manageuser",{url:"/manageuser",templateUrl:"../resources/views/ManageUser.blade.php",controller:"ManageUserCtrl as manageuser"}).state("warehouse",{url:"/warehouse",templateUrl:"../resources/views/Warehouse.blade.php",controller:"WarehouseCtrl as warehouse"}).state("notification",{url:"/notification",templateUrl:"../resources/views/Notification.blade.php",controller:"NotificationCtrl as notification"}).state("upload",{url:"/upload",templateUrl:"../resources/views/Uploader.blade.php",params:{casedId:-1}})}]).run(["$rootScope","$state",function(e,r){e.$on("$stateChangeStart",function(t,a,o,l){$(".ui-dialog").remove(),user=JSON.parse(localStorage.getItem("user")),user&&(e.authenticated=!0,e.currentUser=user,"auth"===a.name&&(t.preventDefault(),""===l.name&&r.go("users")))})}])}();